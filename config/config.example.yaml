database:
  host: localhost
  port: 5432
  user: postgres
  password: yourpassword
  dbname: bluesky_news
  sslmode: disable

bluesky:
  handle: your.handle.bsky.social
  password: your-app-password  # Generate at https://bsky.app/settings/app-passwords

server:
  port: 8080
  host: 0.0.0.0

polling:
  interval_minutes: 15
  posts_per_page: 50          # Posts to fetch per API call
  max_concurrent: 10          # Concurrent user fetches
  rate_limit_ms: 100          # Delay between API calls

  # Initial ingestion settings
  initial_lookback_hours: 24  # How far back to fetch on first run
  max_retries: 3              # Retry failed requests
  retry_backoff_ms: 1000      # Initial retry delay (exponential)
  max_pages_per_user: 100     # Safety limit to prevent runaway fetches

aggregation:
  default_hours: 24
  max_results: 100

# Database cleanup and maintenance
cleanup:
  # Data retention period (hours)
  # Posts and links older than this are deleted
  retention_hours: 24

  # Periodic cleanup interval (minutes)
  # How often to run cleanup while services are running
  cleanup_interval_minutes: 60

  # Trending link threshold
  # Links with this many shares are kept regardless of age
  trending_threshold: 5

  # Cursor update interval (seconds)
  # How often to flush cursor to database (reduces write pressure)
  cursor_update_seconds: 10
